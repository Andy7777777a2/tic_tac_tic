<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Committing Your Changes To The Repository</title><link rel="stylesheet" href="styles_html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="TortoiseGit"><link rel="up" href="tgit-dug.html" title="Chapter 2. TortoiseGit Daily Use Guide"><link rel="prev" href="tgit-dug-checkout.html" title="Checking Out A Working Tree (Switch to commit)"><link rel="next" href="tgit-dug-wcstatus.html" title="Getting Status Information"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Committing Your Changes To The Repository</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tgit-dug-checkout.html">Prev</a> </td><th width="60%" align="center">Chapter 2. TortoiseGit Daily Use Guide</th><td width="20%" align="right"> <a accesskey="n" href="tgit-dug-wcstatus.html">Next</a></td></tr></table><hr></div><div class="sect1" title="Committing Your Changes To The Repository"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tgit-dug-commit"></a>Committing Your Changes To The Repository</h2></div></div></div><a class="indexterm" name="id762424"></a><a class="indexterm" name="id762416"></a><a class="indexterm" name="id762418"></a><p>
		Storing the changes you made to your working tree is known as
		<em class="firstterm">committing</em> the changes. you can use
		<span class="guimenu">TortoiseGit</span> → <span class="guimenuitem">Check for Modifications</span>
		first, to see which files have changed locally.
	</p><div class="sect2" title="The Commit Dialog"><div class="titlepage"><div><div><h3 class="title"><a name="tgit-dug-commit-basics"></a>The Commit Dialog</h3></div></div></div><p>
			If there are no conflicts,
			you are ready to commit your changes. Select any file
			and/or folders you want to commit, then
			<span class="guimenu">TortoiseGit</span> → <span class="guimenuitem">Commit...</span>.
			</p><div class="figure"><a name="tgit-dug-commit-dia-1"></a><p class="title"><b>Figure 2.9. The Commit dialog</b></p><div class="figure-contents"><div><img src="images/Commit.png" alt="The Commit dialog"></div></div></div><p><br class="figure-break">
		</p><p>
			The commit dialog will show you every changed file,
			including added, deleted and unversioned files. If you don't
			want a changed file to be committed, just uncheck that
			file. If you want to include an unversioned file,
			just check that file to add it to the commit.
		</p><p>
			Default commit dialog just list select paths and their child directory files.
			If you want to list all files of project, you can just click <span class="guibutton">
			Whole Project</span>.
		</p><div class="tip" title="Many unversioned files in the commit dialog" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Many unversioned files in the commit dialog</h3><p>
				If you think that the commit dialog shows you too
				many unversioned (e.g. compiler generated or editor backup)
				files, there are several ways to handle this. You can:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
							add the file to the <code class="literal">.gitignore</code> list
							using
							<span class="guimenu">TortoiseGit</span> → <span class="guimenuitem">Add to ignore list</span>
						</p></li></ul></div><p>
				Read <a class="xref" href="tgit-dug-ignore.html" title="Ignoring Files And Directories">the section called “Ignoring Files And Directories”</a> for more information.
			</p></div><p>
			<span class="action">Double clicking</span> on any modified file in the commit
			dialog will launch the external diff tool to show your changes.
			The context menu will give you more options, as shown in the screenshot.
			You can also drag files from here into another application such as a
			text editor or an IDE.
		</p><p>
			You can select or deselect items by clicking on the checkbox to the
			left of the item.
		</p><p>
			The columns displayed in the bottom pane are customizable. If you
			<span class="action">right click</span> on any column header you will see a
			context menu allowing you to select which columns are displayed.
			You can also change column width by using the drag handle which
			appears when you move the mouse over a column boundary. These
			customizations are preserved, so you will see the same headings
			next time.
		</p>
			The color code of the different items is described in <a class="xref" href="tgit-dug-wcstatus.html#tgit-dug-wcstatus-2" title="Status">the section called “Status”</a>.
		<p>
		</p><p>
			Please note that the commit dialog always shows staged files - even if it was started on a different folder (this is by design in order to not forget to commit those, e.g. in case of a merge). Also, in the lower left there is the checkbox <span class="guilabel">Show whole project</span>. Use this to override the file/folder filter and show all changed files for the whole repository. This setting is remembered for a repository - even if you started the commit dialog on a single file.
		</p><div class="tip" title="Drag and Drop" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Drag and Drop</h3><p>
				You can drag files into the commit dialog from elsewhere, as
				long as the working tree is the very same.
				For example, you may have a huge working tree with several
				explorer windows open to look at distant folders of the
				hierarchy. If you want to avoid committing from the top
				level folder (with a lengthy folder crawl to check for changes)
				you can open the commit dialog for one folder and drag in items
				from the other windows to include within the same atomic commit.
			</p><p>
				You can drag unversioned files which reside within a working tree
				into the commit dialog, and they will be Git added automatically.
			</p></div><div class="important" title="Commits are just local" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Commits are just local</h3><p>
				Please note, that all commits are just local and only affect your local working tree. In order to share them with others you need to push them to a remote repository. See <a class="xref" href="tgit-dug-push.html" title="Push">the section called “Push”</a> and <a class="xref" href="tgit-dug-sync.html" title="Sync">the section called “Sync”</a> for more information.
			</p></div></div><div class="sect2" title="Change Lists"><div class="titlepage"><div><div><h3 class="title"><a name="tgit-dug-commit-changelists"></a>Change Lists</h3></div></div></div><p>
			The commit dialog supports changelist feature to help
			with grouping related files together. Find out about this feature
			in <a class="xref" href="tgit-dug-changelists.html" title="Change Lists">the section called “Change Lists”</a>.
		</p></div><div class="sect2" title="Excluding Items from the Commit List"><div class="titlepage"><div><div><h3 class="title"><a name="tgit-dug-commit-ignore"></a>Excluding Items from the Commit List</h3></div></div></div><p>
			Sometimes you have versioned files that change frequently but that you
			really don't want to commit. Sometimes this indicates a flaw in your
			build process - why are those files versioned? should you be using
			template files? But occasionally it is inevitable. A classic reason
			is that your IDE changes a timestamp in the project file every time
			you build. The project file has to be versioned as it includes all the
			build settings, but it doesn't need to be committed just because the
			timestamp changed.
		</p><p>
			To help out in awkward cases like this, there is a Git flag for files
			called <code class="literal">skip-worktree</code> - then files are treated as
			unmodified and Git also refuses to merge those on merge/pull
			(cf. <a class="xref" href="git-command.html#git-update-index(1)__skip_worktree_bit" title="SKIP-WORKTREE BIT">the section called “SKIP-WORKTREE BIT”</a>).
			As another way to tackle cases like this, we have reserved a changelist
			called <code class="literal">ignore-on-commit</code>. Any file added to this
			changelist will automatically be unchecked in the commit dialog.
			You can still commit changes, but you have to select it manually
			in the commit dialog.
		</p></div><div class="sect2" title="Commit only parts of files"><div class="titlepage"><div><div><h3 class="title"><a name="tgit-dug-commit-restore"></a>Commit only parts of files</h3></div></div></div><p>
			Sometimes you want to only commit parts of the changes
			you made to a file. Such a situation usually happens when
			you're working on something but then an urgent fix needs
			to be committed, and that fix happens to be in the same file
			you're working on.
		</p><p>
			<span class="action">right click</span> on the file and use
			<span class="guimenu">Context Menu</span> → <span class="guimenuitem">Restore after commit</span>.
			This will create a copy of the file as it is. Then you
			can edit the file, e.g. in TortoiseGitMerge and undo all
			the changes you don't want to commit. After saving those
			changes you can commit the file.
			</p><div class="tip" title="Using TortoiseGitMerge" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Using TortoiseGitMerge</h3><p>
					If you use TortoiseGitMerge to edit the file, you can either edit
					the changes as you're used to, or mark
					all the changes that you want to include. <span class="action">right click</span>
					on a modified block and use
					<span class="guimenu">Context Menu</span> → <span class="guimenuitem">Mark this block</span>
					to include that change.
					Finally <span class="action">right click</span>
					and use
					<span class="guimenu">Context Menu</span> → <span class="guimenuitem">Use left file except marked blocks</span>
					which will invert your changes (unmarked blocks) that you
					don't want to them to appear in current commit.
				</p></div><p>
		</p><p>
			After the commit is done, the copy of the file is restored
			automatically, and you have the file with all your modifications
			that were not committed back.
		</p></div><div class="sect2" title="Commit Log Messages"><div class="titlepage"><div><div><h3 class="title"><a name="tgit-dug-commit-log"></a>Commit Log Messages</h3></div></div></div><p>
			Be sure to enter a log message which describes the changes you are
			committing. This will help you to see what happened and when, as you
			browse through the project log messages at a later date. The message
			can be as long or as brief as you like; many projects have guidelines
			for what should be included, the language to use, and sometimes even
			a strict format.
		</p><p>
			You can apply simple formatting to your log messages using a convention
			similar to that used within emails.
			To apply styling to <code class="literal">text</code>, use
			<code class="literal">*text*</code> for bold,
			<code class="literal">_text_</code> for underlining, and
			<code class="literal">^text^</code> for italics.
		</p><p>
			</p><div class="figure"><a name="tgit-dug-commit-dia-2"></a><p class="title"><b>Figure 2.10. The Commit Dialog Spellchecker</b></p><div class="figure-contents"><div><img src="images/CommitSpellcheck.png" alt="The Commit Dialog Spellchecker"></div></div></div><p><br class="figure-break">
			TortoiseGit includes a spellchecker to help you get your log messages
			right (cf. <a class="xref" href="tgit-intro-install.html#tgit-intro-instalsl-spell" title="Spell checker">the section called “Spell checker”</a>). This will highlight any misspelled words. Use the context menu
			to access the suggested corrections. Of course, it doesn't know
			<span class="emphasis"><em>every</em></span> technical term that you do, so correctly
			spelt words will sometimes show up as errors. But don't worry. You can
			just add them to your personal dictionary using the context menu.
		</p><p>
			The log message window also includes a filename and function auto-completion
			facility. This uses regular expressions to extract class and function names
			from the (text) files you are committing, as well as the filenames themselves.
			If a word you are typing matches anything in the list (after you have typed at
			least 3 characters, or pressed <span class="keycap"><strong>Ctrl+Space</strong></span>),
			a drop-down appears allowing you to select the full name.
			The regular expressions supplied with TortoiseGit are held in the TortoiseGit
			installation <code class="filename">bin</code> folder. You can also define your own
			regexes and store them in <code class="filename">%APPDATA%\TortoiseGit\autolist.txt</code>.
			Of course your private autolist will not be overwritten when you update your
			installation of TortoiseGit. If you are unfamiliar with regular expressions,
			take a look at the introduction at
			<a class="ulink" href="https://en.wikipedia.org/wiki/Regular_expression" target="_blank">
				<em class="citetitle">https://en.wikipedia.org/wiki/Regular_expression</em>
			</a>,
			and the online documentation and tutorial at
			<a class="ulink" href="https://www.regular-expressions.info/" target="_blank">
				<em class="citetitle">https://www.regular-expressions.info/</em>
			</a>.
		</p><p>
			Getting the regex just right can be tricky, so to help you sort out a
			suitable expression there is a test dialog which allows you to enter
			an expression and then type in filenames to test it against.
			Start it from the command prompt using the command
			<code class="literal">TortoiseGitProc.exe /command:autotexttest</code>.
		</p><p>
			You can re-use previously entered log messages. Just use the command
			<span class="guimenu">Context Menu</span> → <span class="guimenuitem">Paste Recent messages</span>
			to view a list of the last few
			messages you entered for this working tree. The number of stored messages
			can be customized in the TortoiseGit settings dialog.
		</p><p>
			The log message window also includes a commit message snippet facility.
			These snippets are shown in the autocomplete drop-down once you type
			a snippet shortcut, and selecting the snippet in the autocomplete drop-down
			then inserts the full text of the snippet.
			The snippets supplied with TortoiseGit are held in the TortoiseGit
			installation <code class="filename">bin</code> folder. You can also define your own
			snippets and store them in <code class="filename">%APPDATA%\TortoiseGit\snippet.txt</code>.
			<code class="literal">#</code> is the comment character. Use escape sequences <code class="literal">\t</code>, <code class="literal">\r</code>, <code class="literal">\n</code>, and <code class="literal">\\</code>.
		</p><p>
			You can add your name and email address to the end of the log message by clicking
			<span class="guibutton">Add Signed-off-by</span>.
		</p><p>
			You can clear all stored commit messages from the <span class="guilabel">Saved data</span>
			page of TortoiseGit's settings, or you can clear individual messages from
			within the <span class="guilabel">Recent messages</span> dialog using the
			<span class="keycap"><strong>Delete</strong></span> key.
		</p><p>
			If you want to include the checked paths in your log message, you can use
			the command
			<span class="guimenu">Context Menu</span> → <span class="guimenuitem">Paste filename list</span>
			in the edit control.
		</p><p>
			Another way to insert the paths into the log message is to simply
			drag the files from the file list onto the edit control.
		</p><div class="tip" title="Using keyboard" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Using keyboard</h3><p>
				You can access the <span class="guilabel">OK</span> button from keyboard by pressing <span class="keycap"><strong>Ctrl+return</strong></span>.
			</p></div><div class="tip" title="Integration with Bug Tracking Tools" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Integration with Bug Tracking Tools</h3><p>
				If you have activated the bug tracking system, you can set one or more
				Issues in the <span class="guilabel">Bug-ID / Issue-No:</span> text box. Multiple
				issues should be comma separated. Alternatively, if you are using
				regex-based bug tracking support, just add your issue references
				as part of the log message.
				Learn more in <a class="xref" href="tgit-dug-bugtracker.html" title="Integration with Bug Tracking Systems / Issue Trackers">the section called “Integration with Bug Tracking Systems / Issue Trackers”</a>.
			</p></div><div class="tip" title="Adjust the size of message text box" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Adjust the size of message text box</h3><p>
				Move your mouse to the gap between "Message" group box and
				"Changes made" group box, then drag the separator.
			</p></div><div class="tip" title="Commit to a new branch" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Commit to a new branch</h3><p>
				If you want to commit to a fresh branch (based on the current branch), you can check the <span class="guibutton">new branch</span> checkbox and enter a branch name in the displayed textbox.
			</p></div><div class="tip" title="Commit multiple times in a row and directly pushing changes" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Commit multiple times in a row and directly pushing changes</h3><p>
				The main button <span class="guibutton">Commit</span> has a drop-down menu.
				There are the options <span class="guimenuitem">ReCommit</span> and <span class="guimenuitem">Commit &amp; push</span>.
				The option <span class="guimenuitem">ReCommit</span> commits your changes and leaves the Commit dialog open, so that you can continue committing.
				The last option <span class="guimenuitem">Commit &amp; push</span> will commit your changes and immediately push your changes.
				If no remote tracking branch is configured for the current active branch, the push dialog (cf. <a class="xref" href="tgit-dug-push.html" title="Push">the section called “Push”</a>) is opened.
			</p></div></div><div class="sect2" title="Commit Progress"><div class="titlepage"><div><div><h3 class="title"><a name="tgit-dug-commit-progress"></a>Commit Progress</h3></div></div></div><p>
			After pressing <span class="guibutton">Commit</span>, a dialog appears displaying
			the progress of the commit.
			</p><div class="figure"><a name="tgit-dug-commit-dia-3"></a><p class="title"><b>Figure 2.11. The Progress dialog showing a commit in progress</b></p><div class="figure-contents"><div><img src="images/CommitProgress.png" alt="The Progress dialog showing a commit in progress"></div></div></div><p><br class="figure-break">
		</p><p>
			In the lower left, there is a menu button which provides shortcuts to further steps, such as <span class="guimenuitem">ReCommit</span> (resets the commit dialog and allows you to continue committing) or <span class="guimenuitem">Push</span> in order to push your commit to a remote repository.
		</p></div><p>
		You can find more information at <a class="xref" href="git-command.html#git-commit(1)" title="git-commit(1)">the section called “git-commit(1)”</a>.
	</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tgit-dug-checkout.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="tgit-dug.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="tgit-dug-wcstatus.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Checking Out A Working Tree (Switch to commit) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Getting Status Information</td></tr></table></div></body></html>
