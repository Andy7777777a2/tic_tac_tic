<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Redirect the upgrade check</title><link rel="stylesheet" href="styles_html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="TortoiseGit"><link rel="up" href="tgit-admins.html" title="Appendix C. Useful Tips For Administrators"><link rel="prev" href="tgit-admins.html" title="Appendix C. Useful Tips For Administrators"><link rel="next" href="tgit-admins-disablemenus.html" title="Disable context menu entries"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Redirect the upgrade check</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tgit-admins.html">Prev</a> </td><th width="60%" align="center">Appendix C. Useful Tips For Administrators</th><td width="20%" align="right"> <a accesskey="n" href="tgit-admins-disablemenus.html">Next</a></td></tr></table><hr></div><div class="sect1" title="Redirect the upgrade check"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tgit-admins-upgradecheck"></a>Redirect the upgrade check</h2></div></div></div><a class="indexterm" name="id707517"></a><a class="indexterm" name="id707556"></a><a class="indexterm" name="id707565"></a><p>
			TortoiseGit checks if there's a new version available every week (or daily in a preview release).
			If there is a newer version available, a dialog shows up informing
			the user about that and allows to download/install a new version.
		</p><div class="figure"><a name="tgit-admins-dia1"></a><p class="title"><b>Figure C.1. The upgrade dialog</b></p><div class="figure-contents"><div><img src="images/upgradecheck.png" alt="The upgrade dialog"></div></div></div><br class="figure-break"><p>
			If you're responsible for a lot of users in your domain, you might want
			your users to use only versions you have approved and not have them install
			always the latest version (or to save bandwidth or want to add some further notes for installation). You probably don't want that upgrade dialog
			to show up so your users don't go and upgrade immediately (to disable update checking at all (e.g. because you use group policies to deploy TortoiseGit, see <a class="xref" href="tgit-admins.html#tgit-admins-grouppolicies" title="Deploy TortoiseGit via group policies">the section called “Deploy TortoiseGit via group policies”</a> and/or <code class="literal">VersionCheck</code> in <a class="xref" href="tgit-dug-settings.html#tgit-dug-settings-registry" title="Advanced Settings">the section called “Advanced Settings”</a>).
		</p><p>
			TortoiseGit allow you to redirect that upgrade
			check to your intranet server. You can set the registry key
			<code class="filename">HKCU\Software\TortoiseGit\UpdateCheckURL</code> OR <code class="filename">HKLM\Software\TortoiseGit\UpdateCheckURL</code> (string value, <code class="filename">HKCU</code> overrides <code class="filename">HKLM</code>)
			to an URL pointing to a text file in your intranet (default is <a class="ulink" href="https://versioncheck.tortoisegit.org/version.txt" target="_blank">https://versioncheck.tortoisegit.org/version.txt</a>).
			When the default <code class="filename">version.txt</code> file is used, it is checked by verifying a digital signature (<a class="ulink" href="https://versioncheck.tortoisegit.org/version.txt.rsa.asc" target="_blank">https://versioncheck.tortoisegit.org/version.txt.rsa.asc</a>) that it has not been altered (since TortoiseGit 1.8.5).
			The check for the digital signature of the <code class="filename">version.txt</code> file is omitted if the location is overridden in registry.
			That text file must have the following format:
</p><pre class="screen">
[TortoiseGit]
version=X.X.X.X
infotext=A new version of TortoiseGit is available for you to download!
infotexturl=http://192.168.2.1/downloads/TortoiseGit/info.htm
changelogurl=http://192.168.2.1/downloads/TortoiseGit/TortoiseGit-1.4.1.6000-changelog.txt
baseurl=http://192.168.2.1/downloads/TortoiseGit/
langs="1029;cs"
langs="1031;de"
</pre><p>
			The <code class="literal">version</code> line in that file is the version string. You must make sure that
			it matches the exact version string of the TortoiseGit installation package.
			The <code class="literal">infotext</code> line is a custom text, shown in the upgrade dialog. You can write
			there whatever you want (can also be left empty). Just note that the space in the upgrade dialog is
			limited. Too long messages will get truncated!
			The <code class="literal">infotexturl</code> line is the URL which is opened when
			when the user clicks on the (custom) message label in the upgrade dialog.
			The URL is opened with the default web browser, so if you specify a web page,
			that page is opened and shown to the user.
			The <code class="literal">changelogurl</code> line contains the URL to the changelog or release notes which are displayed in the upgrade dialog (if empty it defaults to <a class="ulink" href="https://versioncheck.tortoisegit.org/changelog.txt" target="_blank">https://versioncheck.tortoisegit.org/changelog.txt</a>, you can use <code class="literal">%1!u!</code>, <code class="literal">%2!u!</code> and <code class="literal">%3!u!</code> for MAJOR, MINOR and MICRO version numbers of the running TortoiseGit version; <code class="literal">%4!s!</code> for Windows platform, <code class="literal">%5!s!</code> for Windows version, and <code class="literal">%6!s!</code> for service pack version),
			The <code class="literal">baseurl</code> line is used to override the base path to the installation packages (if empty it defaults to <code class="literal">https://updater.download.tortoisegit.org/tgit/X.X.X.X/</code>).
			The filenames are generated as follows: <code class="literal">TortoiseGit-(version)-(32|64)bit.msi</code> for the main installer (if not overridden by <code class="literal">mainfilename=TortoiseGit-%1!s!-%2!s!bit.msi</code>)
			and <code class="literal">TortoiseGit-LanguagePack-(version)-(32|64)bit-(cs|de|...).msi</code> for the language packs (if not overridden by <code class="literal">languagepackfilename=TortoiseGit-LanguagePack-%1!s!-%2!s!bit-%3!s!.msi</code>; <code class="literal">%4!d!</code> is the four digit country code).
			Using <code class="literal">langs</code> lines, one can advertise language packs (Syntax of one line: Four digit country code;ISO Country code).
			Using a <code class="literal">issuesurl</code> line, it is possible to control the URL to which the issues are linked to (default is <code class="literal">https://tortoisegit.org/issue/%BUGID%</code>; can also be empty to disable linking). There are also two boolean options <code class="literal">directdownload</code> and <code class="literal">changelog</code> to hide the change log and to disable direct downloads (both default to true).
		</p><p>
			Clicking on <span class="guibutton">Download</span> downloads the selected files as well as their digital signature files (<code class="filename">filename.asc</code>) to <code class="filename"><a class="ulink" href="https://docs.microsoft.com/windows/win32/shell/knownfolderid" target="_blank">FOLDERID_Downloads</a></code>.
			After downloading the digital signature is verified - the file is only kept if the file is digitally signed and could be verified correctly.
		</p><p>
			If you want to distribute your own modified TortoiseGit packages in your network, you have to put your own GPG key into TortoiseGit and sign the <code class="filename">.msi</code>-files with this key or deactivate the signature verification completely.
		</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tgit-admins.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="tgit-admins.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="tgit-admins-disablemenus.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix C. Useful Tips For Administrators </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Disable context menu entries</td></tr></table></div></body></html>
